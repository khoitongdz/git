<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Temp Mail Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(circle at top, #1e293b, #0f172a);
      color: #e2e8f0;
    }
    .glass {
      background: rgba(17, 25, 40, 0.85);
      backdrop-filter: blur(14px);
      will-change: transform, opacity;
    }
    .btn {
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    .btn:hover {
      transform: translateY(-2px) scale(1.05);
    }
    .toast {
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .toast-hidden {
      opacity: 0;
      transform: translateY(-20px);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

  <!-- Header -->
  <header class="w-full max-w-5xl glass rounded-2xl p-6 flex justify-between items-center shadow-lg">
    <h1 class="text-3xl font-bold text-white flex items-center gap-2">
      <span>📧</span> Temp Mail Pro
    </h1>
    <div id="timer" class="text-yellow-400 text-lg font-semibold">⏳ 10:00</div>
  </header>

  <!-- Main Content -->
  <main class="w-full max-w-5xl mt-8 flex-grow space-y-8">
    <!-- Email Card -->
    <div class="glass rounded-2xl shadow-xl p-6">
      <div class="flex flex-col md:flex-row items-stretch gap-4">
        <input id="emailDisplay" type="text" value="Đang tạo email..." readonly
          class="flex-grow bg-gray-800 text-white p-4 rounded-xl text-sm font-mono focus:outline-none shadow-inner" />
        <button id="copyBtn" class="btn bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg">
          📋 Copy
        </button>
      </div>
      <div class="flex gap-4 mt-6 flex-wrap">
        <button id="refreshBtn" class="btn flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg">
          🔄 Refresh
        </button>
        <button id="newEmailBtn" class="btn flex-1 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg">
          ✨ New Email
        </button>
      </div>
    </div>

    <!-- Inbox -->
    <div class="glass rounded-2xl shadow-xl p-6">
      <h2 class="text-xl font-bold mb-4">📬 Inbox</h2>
      <div id="inboxArea" class="space-y-4 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700">
        <div id="loading" class="text-center text-gray-400">Đang tải...</div>
      </div>
    </div>
  </main>

  <!-- Toast -->
  <div id="toast" class="fixed top-6 right-6 glass px-6 py-3 rounded-xl shadow-xl toast-hidden">
    Notification
  </div>

  <script>
    // 🔒 Anti Debugger / Anti Console
    (function() {
      function detectDevTools() {
        const threshold = 160;
        const widthThreshold = window.outerWidth - window.innerWidth > threshold;
        const heightThreshold = window.outerHeight - window.innerHeight > threshold;
        if (widthThreshold || heightThreshold) {
          alert("⚠️ Phát hiện console đang mở! Vui lòng đóng lại.");
          setInterval(function() { debugger; }, 50); // khóa thao tác
        }
      }
      setInterval(detectDevTools, 1000);

      // Cảnh báo khi mở console bằng F12 hoặc Ctrl+Shift+I
      document.addEventListener("keydown", function(e) {
        if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key.toLowerCase() === "i")) {
          e.preventDefault();
          alert("⚠️ Không được mở DevTools!");
          setInterval(function() { debugger; }, 50);
        }
      });
    })();

    // ⚡ Tối ưu hiệu ứng bằng requestAnimationFrame khi cần
    function smoothUpdate(fn) {
      let ticking = false;
      return function(...args) {
        if (!ticking) {
          requestAnimationFrame(() => {
            fn.apply(this, args);
            ticking = false;
          });
          ticking = true;
        }
      };
    }
  </script>
</body>
</html>
